diff --git a/device-app/server.js b/device-app/server.js
index c90ba56..a63f442 100644
--- a/device-app/server.js
+++ b/device-app/server.js
@@ -10,7 +10,9 @@ const app = express();
 const PORT = process.env.PORT || 4000;
 
 // Configuration
-const KEYCLOAK_URL = process.env.KEYCLOAK_URL || 'http://localhost:8080';  // Keycloak reste en HTTP
+// Utiliser KEYCLOAK_INTERNAL_URL pour les appels serveur-√†-serveur depuis Docker
+const KEYCLOAK_INTERNAL_URL = process.env.KEYCLOAK_INTERNAL_URL || process.env.KEYCLOAK_URL || 'http://localhost:8080';
+const KEYCLOAK_URL = KEYCLOAK_INTERNAL_URL;  // Pour compatibilit√© avec le reste du code
 const REALM = process.env.KEYCLOAK_REALM || 'projetcis';
 const CLIENT_ID = process.env.CLIENT_ID || 'devicecis';
 
@@ -60,10 +62,8 @@ app.post('/start-device-flow', async (req, res) => {
       started_at: Date.now()
     };
 
-    // G√©n√©rer le QR code qui pointe vers webapp avec le code pr√©-rempli
+    // URL d'activation webapp (QR code d√©sactiv√© pour Docker)
     const webappActivationUrl = `https://localhost:3000/activate?code=${deviceFlowState.user_code}`;
-    const qrCodeDataUrl = await qrcode.toDataURL(webappActivationUrl);
-    deviceFlowState.qr_code = qrCodeDataUrl;
     deviceFlowState.webapp_activation_url = webappActivationUrl;
 
     console.log('[Device Flow] Initi√© avec succ√®s');
@@ -79,7 +79,6 @@ app.post('/start-device-flow', async (req, res) => {
         user_code: deviceFlowState.user_code,
         verification_uri: deviceFlowState.verification_uri,
         verification_uri_complete: deviceFlowState.verification_uri_complete,
-        qr_code: qrCodeDataUrl,
         expires_in: deviceFlowState.expires_in
       }
     });
@@ -263,26 +262,40 @@ app.get('/health', (req, res) => {
   res.json({ status: 'OK', service: 'device-app' });
 });
 
-// D√©marrage du serveur HTTPS
-try {
-  // Essayer de charger les certificats HTTPS
-  const httpsOptions = {
-    key: fs.readFileSync(path.join(__dirname, 'certs', 'localhost+2-key.pem')),
-    cert: fs.readFileSync(path.join(__dirname, 'certs', 'localhost+2.pem'))
-  };
+// D√©marrage du serveur HTTPS ou HTTP
+const certPath = path.join(__dirname, 'certs', 'localhost+2-key.pem');
+const certExists = fs.existsSync(certPath);
 
-  https.createServer(httpsOptions, app).listen(PORT, () => {
-    console.log(`[Server] Device App HTTPS d√©marr√©e sur https://localhost:${PORT}`);
+if (certExists) {
+  try {
+    // Essayer de charger les certificats HTTPS
+    const httpsOptions = {
+      key: fs.readFileSync(path.join(__dirname, 'certs', 'localhost+2-key.pem')),
+      cert: fs.readFileSync(path.join(__dirname, 'certs', 'localhost+2.pem'))
+    };
+
+    https.createServer(httpsOptions, app).listen(PORT, '0.0.0.0', () => {
+      console.log(`[Server] Device App HTTPS d√©marr√©e sur https://localhost:${PORT}`);
+      console.log(`[Server] Instructions:`);
+      console.log(`   1. Acc√©dez √† https://localhost:${PORT}`);
+      console.log(`   2. Cliquez sur "D√©marrer l'authentification"`);
+      console.log(`   3. Suivez les instructions affich√©es`);
+    });
+  } catch (error) {
+    console.error('[Server] Erreur HTTPS:', error.message);
+    console.log('[Server] Basculement vers HTTP...');
+    app.listen(PORT, '0.0.0.0', () => {
+      console.log(`[Server] Device App HTTP d√©marr√©e sur http://localhost:${PORT}`);
+    });
+  }
+} else {
+  // Pas de certificats, d√©marrer directement en HTTP
+  console.log('[Server] Certificats HTTPS non trouv√©s, d√©marrage en HTTP...');
+  app.listen(PORT, '0.0.0.0', () => {
+    console.log(`[Server] Device App HTTP d√©marr√©e sur http://localhost:${PORT}`);
     console.log(`[Server] Instructions:`);
-    console.log(`   1. Acc√©dez √† https://localhost:${PORT}`);
+    console.log(`   1. Acc√©dez √† http://localhost:${PORT}`);
     console.log(`   2. Cliquez sur "D√©marrer l'authentification"`);
     console.log(`   3. Suivez les instructions affich√©es`);
   });
-} catch (error) {
-  // Fallback sur HTTP si pas de certificats
-  console.log('[Server] Certificats HTTPS non trouv√©s, d√©marrage en HTTP...');
-  app.listen(PORT, () => {
-    console.log(`[Server] Device App HTTP d√©marr√©e sur http://localhost:${PORT}`);
-    console.log(`   Pour HTTPS, g√©n√©rez les certificats avec mkcert`);
-  });
 }
\ No newline at end of file
diff --git a/device-app/views/device-home.ejs b/device-app/views/device-home.ejs
index 484721c..d503d81 100644
--- a/device-app/views/device-home.ejs
+++ b/device-app/views/device-home.ejs
@@ -193,7 +193,7 @@
                     <h2>‚è≥ Autorisation en attente...</h2>
                     <div class="spinner"></div>
                 </div>
-                
+
                 <div class="instructions">
                     <h3>Instructions pour l'autorisation :</h3>
                     <ol>
@@ -202,25 +202,18 @@
                         <li>Entrez le code suivant :</li>
                     </ol>
                 </div>
-                
+
                 <div class="code-display">
                     ${flowData.user_code}
                 </div>
-                
-                ${flowData.qr_code ? `
-                <div class="qr-code">
-                    <h3>Ou scannez ce QR Code :</h3>
-                    <img src="${flowData.qr_code}" alt="QR Code">
-                </div>
-                ` : ''}
-                
-                <button class="btn btn-success" onclick="openBrowser()">
-                    üåê Ouvrir dans le navigateur
-                </button>
-                
+
                 <p style="text-align: center; color: #718096; margin-top: 20px;">
                     Ce code expire dans ${flowData.expires_in} secondes
                 </p>
+
+                <p style="text-align: center; color: #a0aec0; font-size: 14px; margin-top: 10px;">
+                    üí° Copiez le code ci-dessus et collez-le dans la page d'activation
+                </p>
             `;
         }
 
diff --git a/webapp2/config/keycloak.js b/webapp2/config/keycloak.js
index 4b29c95..74e36fb 100644
--- a/webapp2/config/keycloak.js
+++ b/webapp2/config/keycloak.js
@@ -5,6 +5,7 @@ async function initializeKeycloak() {
     try {
         // UTILISER KEYCLOAK_INTERNAL_URL pour la d√©couverte depuis Docker
         const keycloakInternalUrl = process.env.KEYCLOAK_INTERNAL_URL || process.env.KEYCLOAK_URL || 'http://localhost:8080';
+        const keycloakPublicUrl = process.env.KEYCLOAK_URL || 'http://localhost:8080';
         const realm = process.env.REALM;
         const clientId = process.env.CLIENT_ID;
         const clientSecret = process.env.CLIENT_SECRET;
@@ -21,7 +22,31 @@ async function initializeKeycloak() {
         const issuer = await Issuer.discover(issuerUrl);
         console.log('Issuer d√©couvert:', issuer.metadata.issuer);
 
-        const keycloakClient = new issuer.Client({
+        // Correction des endpoints pour utiliser l'URL interne pour les appels serveur-√†-serveur
+        // mais garder l'URL publique pour les redirections navigateur
+        const correctedMetadata = {
+            ...issuer.metadata,
+            // Endpoints serveur-√†-serveur (utiliser URL interne Docker)
+            token_endpoint: issuer.metadata.token_endpoint.replace(keycloakPublicUrl, keycloakInternalUrl),
+            userinfo_endpoint: issuer.metadata.userinfo_endpoint.replace(keycloakPublicUrl, keycloakInternalUrl),
+            revocation_endpoint: issuer.metadata.revocation_endpoint?.replace(keycloakPublicUrl, keycloakInternalUrl),
+            introspection_endpoint: issuer.metadata.introspection_endpoint?.replace(keycloakPublicUrl, keycloakInternalUrl),
+            jwks_uri: issuer.metadata.jwks_uri?.replace(keycloakPublicUrl, keycloakInternalUrl),
+            // Endpoints pour redirections navigateur (garder URL publique)
+            authorization_endpoint: issuer.metadata.authorization_endpoint,
+            end_session_endpoint: issuer.metadata.end_session_endpoint, // Logout = redirect navigateur
+            registration_endpoint: issuer.metadata.registration_endpoint
+        };
+
+        console.log('Endpoints corrig√©s:');
+        console.log('   - Token endpoint:', correctedMetadata.token_endpoint);
+        console.log('   - Userinfo endpoint:', correctedMetadata.userinfo_endpoint);
+        console.log('   - Authorization endpoint:', correctedMetadata.authorization_endpoint);
+
+        // Cr√©er un nouvel Issuer avec les m√©tadonn√©es corrig√©es
+        const correctedIssuer = new Issuer(correctedMetadata);
+
+        const keycloakClient = new correctedIssuer.Client({
             client_id: clientId,
             client_secret: clientSecret,
             redirect_uris: [redirectUri],
@@ -31,6 +56,7 @@ async function initializeKeycloak() {
         console.log('Client OpenID Connect initialis√©');
         console.log('Configuration:');
         console.log('   - URL interne:', keycloakInternalUrl);
+        console.log('   - URL publique:', keycloakPublicUrl);
         console.log('   - Client ID:', clientId);
         console.log('   - Redirect URI:', redirectUri);
         console.log('');
diff --git a/webapp2/package.json b/webapp2/package.json
index 3ef58ae..106dc65 100644
--- a/webapp2/package.json
+++ b/webapp2/package.json
@@ -16,6 +16,7 @@
     "author": "",
     "license": "MIT",
     "dependencies": {
+        "axios": "^1.6.0",
         "dotenv": "^16.3.1",
         "ejs": "^3.1.9",
         "express": "^4.18.2",
diff --git a/webapp2/routes/pages.js b/webapp2/routes/pages.js
index d1b7164..4c59a6e 100644
--- a/webapp2/routes/pages.js
+++ b/webapp2/routes/pages.js
@@ -44,13 +44,14 @@ router.get('/profile', refreshTokenIfNeeded, requireAuth, (req, res) => {
  */
 async function fetchDevicesFromKeycloak(accessToken) {
     const axios = require('axios');
-    const KEYCLOAK_URL = process.env.KEYCLOAK_URL || 'http://localhost:8080';
+    // Utiliser KEYCLOAK_INTERNAL_URL pour les appels serveur-√†-serveur
+    const KEYCLOAK_INTERNAL_URL = process.env.KEYCLOAK_INTERNAL_URL || process.env.KEYCLOAK_URL || 'http://localhost:8080';
     const REALM = process.env.REALM || 'projetcis';
 
     try {
         // Appel √† Keycloak Account API pour r√©cup√©rer les sessions
         const response = await axios.get(
-            `${KEYCLOAK_URL}/realms/${REALM}/account/sessions/devices`,
+            `${KEYCLOAK_INTERNAL_URL}/realms/${REALM}/account/sessions/devices`,
             {
                 headers: {
                     'Authorization': `Bearer ${accessToken}`
